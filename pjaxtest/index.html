<!DOCTYPE html>
<html>
<head>
	<script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery.pjax/1.9.6/jquery.pjax.js"></script>	
	<script type="text/javascript">
		$(function(){
			var onPanel;

	        $.pjax.defaults.maxCacheLength = 0;
	        $.pjax.defaults.timeout = 10000;

			$(document).pjax('a[data-link=page]', '#pjax-pages');
			$(document).pjax('a[data-link=panel]', '#pjax-panels');

	        $(document).on('pjax:beforeSend', function(e, xhr, options) {
	            if (onPanel) {
	            	e.preventDefault();
	                $('#pjax-panels').empty();
	                onPanel = false;	                
	            }
	        });

			$(document).on('pjax:success', function(e, data, status, xhr, options) {
				if ($(options.target).attr('data-link') == 'panel') {
					onPanel = true;
				}
			});
		});		
	</script>
</head>
<body>
	<div id="links">
		<a href="/page1.html" data-link="page">page1</a>
		<a href="/page2.html" data-link="page">page2</a>
		<a href="/panel.html" data-link="panel">panel</a>
	</div>
	<div id="pjax-pages"></div>
	<div id="pjax-panels"></div>
</body>
</html>
